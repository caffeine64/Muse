
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>StratGenie – From Brief to Brilliance</title>
  <style>
    body { font-family: sans-serif; max-width: 700px; margin: 40px auto; }
    input, textarea { width: 100%; margin-bottom: 10px; padding: 8px; font-size: 14px; }
    button { padding: 10px 20px; font-size: 16px; }
    pre { background: #f4f4f4; padding: 20px; white-space: pre-wrap; }
    label { font-weight: bold; margin-top: 10px; display: block; }
  </style>
</head>
<body>

  <h1>StratGenie – From Brief to Brilliance</h1>

  <form id="briefForm">
    <label for="brand">Brand:</label>
    <input type="text" id="brand" required>

    <label for="objective">Objective:</label>
    <input type="text" id="objective" required>

    <label for="audience">Target Audience:</label>
    <input type="text" id="audience" required>

    <label for="tone">Tone of Voice:</label>
    <input type="text" id="tone" required>

    <label for="mandatories">Mandatories:</label>
    <textarea id="mandatories" rows="3" required></textarea>

    <button type="submit">Generate Strategy</button>
  </form>

  <h3>Output:</h3>
  <pre id="output">Waiting for your brilliance...</pre>

  <script>
    const form = document.getElementById("briefForm");
    const output = document.getElementById("output");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      output.textContent = "Thinking...";

      const brand = document.getElementById("brand").value;
      const objective = document.getElementById("objective").value;
      const audience = document.getElementById("audience").value;
      const tone = document.getElementById("tone").value;
      const mandatories = document.getElementById("mandatories").value;

      const prompt = `You are StratGenie, a senior AI strategist in a creative agency.

Read the creative brief below and respond with:

**Brief Summary**
**Core Insight**
**Strategic Territories (2–3)**
**Creative Idea Directions (titles, concepts, rationale)**
**Tagline Ideas (5)**

Brief:
Brand: ${brand}
Objective: ${objective}
Target Audience: ${audience}
Tone of Voice: ${tone}
Mandatories: ${mandatories}
`;

      try {
        const res = await fetch("https://stratgenie-backend.caffeine64.repl.co/generate", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ prompt })
        });

        const data = await res.json();
        output.textContent = data.result || data.error || "❌ No response received.";
      } catch (err) {
        output.textContent = "❌ Error connecting to backend: " + err.message;
      }
    });
  </script>

</body>
</html>
